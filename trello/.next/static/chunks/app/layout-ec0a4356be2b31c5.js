(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{138:function(e,t,s){Promise.resolve().then(s.bind(s,2565)),Promise.resolve().then(s.t.bind(s,2640,23))},2565:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var a=s(2634),n=s(370),o=s(9484),r=s(8999),i=s(6985),l=s(8217),d=s(1897),c=s(4619);let u=[{id:"todo",name:"Todo",description:"A new task to be completed",color:"bg-red-500"},{id:"inprogress",name:"In Progress",description:"A task that is currently being worked on",color:"bg-yellow-500"},{id:"done",name:"Done",description:"A task that has been completed",color:"bg-green-500"}];var p=function(){let[e,t]=(0,l.Y)(e=>[e.setNewTaskType,e.newTaskType]);return(0,a.jsx)("div",{className:"w-full py-5",children:(0,a.jsx)("div",{className:"mx-auto w-full max-w-md",children:(0,a.jsx)(d.E,{value:t,onChange:t=>{e(t)},children:(0,a.jsx)("div",{className:"space-y-2",children:u.map(e=>(0,a.jsx)(d.E.Option,{value:e.id,className:t=>{let{active:s,checked:a}=t;return"".concat(s?"ring-2 ring-white ring-opacity-60 ring-offset-2 ring-offset-sky-300":"","\n                                    ").concat(a?"".concat(e.color," bg-opacity-75 text-white"):"bg-white","\n                                        relative flex cursor-pointer rounded-lg px-5 py-4 shadow-md focus:outline-none")},children:t=>{let{active:s,checked:n}=t;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)(d.E.Label,{as:"p",className:"font-medium ".concat(n?"text-white":"text-gray-900"),children:e.name}),(0,a.jsx)(d.E.Description,{as:"span",className:"inline ".concat(n?"text-white":"text-gray-500"),children:(0,a.jsx)("span",{children:e.description})})]})}),n&&(0,a.jsx)("div",{className:"shrink-0 text-white",children:(0,a.jsx)(c.Z,{className:"h-6 w-6"})})]})})}},e.id))})})})})},h=function(){let[e,t,s,d]=(0,l.Y)(e=>[e.addTask,e.newTaskInput,e.setNewTaskInput,e.newTaskType]),[c,u]=(0,i.a)(e=>[e.isOpen,e.closeModal]);return(0,a.jsx)(o.u,{appear:!0,show:c,as:n.Fragment,children:(0,a.jsxs)(r.V,{as:"form",onSubmit:s=>{s.preventDefault(),t&&(e(t,d),u())},className:"relative z-10",onClose:u,children:[(0,a.jsx)(o.u.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,a.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,a.jsx)(o.u.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsxs)(r.V.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xm bg-white p-6 text-left align-middle shadow-xl transition-all",children:[(0,a.jsx)(r.V.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 pb-2",children:"Add a Task"}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("input",{type:"text",value:t,onChange:e=>s(e.target.value),placeholder:"Enter a task here...",className:"w-full border border-gray-300 rounded-md outline-none p-5"})}),(0,a.jsx)(p,{}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("button",{type:"submit",disabled:!t,className:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2   text-sm font-medium fext-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2    focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:bg-gray-100 disabled:text-gray-300   disabled:cursor-not-allowed",children:"Add Task"})})]})})})})]})})}},8217:function(e,t,s){"use strict";s.d(t,{Y:function(){return r}});var a=s(4214);let n=async()=>{try{console.log("Fetching todos from the server...");let e=await a.Z.get("http://localhost:3000/tasks");console.log("Received todos:",e.data);let t=e.data,s=t.reduce((e,t)=>{e.get(t.status)||e.set(t.status,{id:t.status,todos:[]});let s=e.get(t.status);return s&&s.todos.push({$id:t._id,$createdAt:t.createdAt,title:t.title,status:t.status}),e},new Map),n=["todo","inprogress","done"];for(let e of n)s.get(e)||s.set(e,{id:e,todos:[]});let o=new Map(Array.from(s.entries()).sort((e,t)=>n.indexOf(e[0])-n.indexOf(t[0]))),r={columns:o};return console.log("Board:",r),r}catch(e){throw console.error("Error fetching todos:",e),e}};var o=s(2561);let r=(0,o.Ue)((e,t)=>({board:{columns:new Map},searchString:"",newTaskInput:"",newTaskType:"todo",setSearchString:t=>e({searchString:t}),getBoard:async()=>{let t=await n();console.log("Fetched board:",t),e({board:t})},setBoardState:t=>e({board:t}),deleteTask:async(s,n,o)=>{var r;let i=new Map(t().board.columns);null===(r=i.get(o))||void 0===r||r.todos.splice(s,1),e({board:{columns:i}}),await a.Z.delete("http://localhost:3000/tasks/".concat(n.$id))},addTask:async(t,s)=>{let{$id:n}=await a.Z.post("http://localhost:3000/tasks",{title:t,status:s});e({newTaskInput:""}),e(e=>{let a=new Map(e.board.columns),o={$id:n,$createdAt:new Date().toISOString(),title:t,status:s},r=a.get(s);if(r){var i;null===(i=a.get(s))||void 0===i||i.todos.push(o)}else a.set(s,{id:s,todos:[o]});return{board:{columns:a}}})},setNewTaskInput:t=>e({newTaskInput:t}),setNewTaskType:t=>e({newTaskType:t}),updateTodoInDB:async(e,t)=>{try{let s=await a.Z.put("http://localhost:3000/tasks/".concat(e.$id),{title:e.title,status:t});console.log("Updated todo:",s.data)}catch(e){throw console.error("Error updating todo:",e),e}}}))},6985:function(e,t,s){"use strict";s.d(t,{a:function(){return n}});var a=s(2561);let n=(0,a.Ue)()(e=>({isOpen:!1,openModal:()=>e({isOpen:!0}),closeModal:()=>e({isOpen:!1})}))},2640:function(){}},function(e){e.O(0,[662,600,197,408,744],function(){return e(e.s=138)}),_N_E=e.O()}]);