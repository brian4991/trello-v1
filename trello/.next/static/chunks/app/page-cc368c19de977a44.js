(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9395:function(e,t,s){Promise.resolve().then(s.bind(s,4269)),Promise.resolve().then(s.bind(s,2253))},4269:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var o=s(2634),r=s(8217),n=s(370),l=s(3785),a=s(2746),d=s(5237),i=function(e){let{todo:t,index:s,id:n,innerRef:l,draggableProps:a,dragHandleProps:i}=e,c=(0,r.Y)(e=>e.deleteTask);return(0,o.jsx)("div",{className:"bg-white rounded-md space-y-2 drop-shadow-md",...a,...i,ref:l,children:(0,o.jsxs)("div",{className:"flex justify-between items-center p-5",children:[(0,o.jsx)("p",{children:t.title}),(0,o.jsx)("button",{onClick:()=>c(s,t,n),className:"text-red-500 hover:text-red-600",children:(0,o.jsx)(d.Z,{className:"ml-5 h-8 w-8"})})]})})},c=s(6985);let u={todo:"To Do",inprogress:"In Progress",done:"Done"};var p=function(e){let{id:t,todos:s,index:n}=e,[d]=(0,r.Y)(e=>[e.searchString]),p=(0,c.a)(e=>e.openModal);return(0,o.jsx)(l._l,{draggableId:t,index:n,children:e=>(0,o.jsx)("div",{...e.draggableProps,...e.dragHandleProps,ref:e.innerRef,children:(0,o.jsx)(l.bK,{droppableId:n.toString(),type:"card",children:(e,r)=>(0,o.jsxs)("div",{...e.droppableProps,ref:e.innerRef,className:"p-2 rounded-2xl shadow-sm ".concat(r.isDraggingOver?"bg-green-200":"bg-white/50"),children:[(0,o.jsxs)("h2",{className:"flex justify-between font-bold text-xl p-2",children:[u[t],(0,o.jsx)("span",{className:"text-gray-500 bg-gray-200 rounded-full px-2 py-1 text-sm font-normal",children:d?s.filter(e=>e.title.toLowerCase().includes(d)).length:s.length})]}),(0,o.jsxs)("div",{className:"space-y-2",children:[s.map((e,s)=>d&&!e.title.toLowerCase().includes(d.toLowerCase())?null:(0,o.jsx)(l._l,{draggableId:e.$id,index:s,children:r=>(0,o.jsx)(i,{todo:e,index:s,id:t,innerRef:r.innerRef,draggableProps:r.draggableProps,dragHandleProps:r.dragHandleProps})},e.$id)),e.placeholder,(0,o.jsx)("div",{className:"flex item-end justify-end p-2",children:(0,o.jsx)("button",{onClick:p,className:"text-green-500 hover:text-green-600",children:(0,o.jsx)(a.Z,{className:"h-10 w-10"})})})]})]})})})})},x=function(){let[e,t,s,a]=(0,r.Y)(e=>[e.board,e.getBoard,e.setBoardState,e.updateTodoInDB]);return(0,n.useEffect)(()=>{t()},[t]),(0,o.jsx)(l.Z5,{onDragEnd:t=>{let{destination:o,source:r,type:n}=t;if(!o)return;if("column"==n){let t=Array.from(e.columns.entries()),[n]=t.splice(r.index,1);t.splice(o.index,0,n);let l=new Map(t);s({...e,columns:l})}let l=Array.from(e.columns),d=l[Number(r.droppableId)],i=l[Number(o.droppableId)];if(!d||!i)return;let c={id:d[0],todos:d[1].todos},u={id:i[0],todos:i[1].todos};if(!c||!u||r.index===o.index&&c===u)return;let p=c.todos,[x]=p.splice(r.index,1);if(c.id===u.id){p.splice(o.index,0,x);let t={id:c.id,todos:p},r=new Map(e.columns);r.set(c.id,t),s({...e,columns:r})}else{let t=Array.from(u.todos);t.splice(o.index,0,x);let r=new Map(e.columns),n={id:c.id,todos:p};r.set(c.id,n),r.set(u.id,{id:u.id,todos:t}),a(x,u.id),s({...e,columns:r})}},children:(0,o.jsx)(l.bK,{droppableId:"board",direction:"horizontal",type:"column",children:t=>(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5 max-w-7xl mx-auto",...t.droppableProps,ref:t.innerRef,children:Array.from(e.columns.entries()).map((e,t)=>{let[s,r]=e;return(0,o.jsx)(p,{id:s,todos:r.todos,index:t},s)})})})})}},2253:function(e,t,s){"use strict";s.r(t);var o=s(2634);s(370);var r=s(1568),n=s.n(r),l=s(9455),a=s(6926),d=s(547),i=s(8217);t.default=function(){let[e,t]=(0,i.Y)(e=>[e.searchString,e.setSearchString]);return(0,o.jsxs)("header",{children:[(0,o.jsxs)("div",{className:"flex flex-col md:flex-row items-center p-5 bg-gray-500/10 rounded-b-2xl",children:[(0,o.jsx)("div",{className:"absolute top-0 left-0 w-full h-96 bg-gradient-to-br from-orange-500 to-yellow-100 rounded-md filter blur-3xl opacity-50 -z-50"}),(0,o.jsx)(n(),{src:"/images/trello_logo.png",alt:"trello logo",width:300,height:100,className:"w-44 md:w-56 pb-10 md:pb-0 object-contain"}),(0,o.jsxs)("div",{className:"flex items-center space-x-5 flex-1 justify-end w-full",children:[(0,o.jsxs)("form",{className:"flex items-center space-x-5 bg-white rounded-md p-2 shadow-md flex-1 md:flex-initial",children:[(0,o.jsx)(l.Z,{className:"h-6 w-6 text-gray-400"}),(0,o.jsx)("input",{type:"text",placeholder:"Search",value:e,onChange:e=>t(e.target.value),className:"flex-1 outline-none p-2"}),(0,o.jsx)("button",{type:"submit",hidden:!0,children:"Search"})]}),(0,o.jsx)(d.ZP,{name:"Brian Piorkowski",round:!0,size:"50",color:"#0055D1"})]})]}),(0,o.jsx)("div",{className:"flex items-center justify-center px-5 py-2 md:py-5 ",children:(0,o.jsxs)("p",{className:"flex items-center p-5 text-sm font-light pr-5 shadow-xl rounded-xl w-fit bg-white italic max-w-3xl text-[#0055D1]",children:[(0,o.jsx)(a.Z,{className:"inline-block h-10 w-10 text-[#0055D1] mr-1"}),"Welcome to your DashBoard, Brian"]})})]})}},8217:function(e,t,s){"use strict";s.d(t,{Y:function(){return l}});var o=s(4214);let r=async()=>{try{console.log("Fetching todos from the server...");let e=await o.Z.get("http://localhost:3000/tasks");console.log("Received todos:",e.data);let t=e.data,s=t.reduce((e,t)=>{e.get(t.status)||e.set(t.status,{id:t.status,todos:[]});let s=e.get(t.status);return s&&s.todos.push({$id:t._id,$createdAt:t.createdAt,title:t.title,status:t.status}),e},new Map),r=["todo","inprogress","done"];for(let e of r)s.get(e)||s.set(e,{id:e,todos:[]});let n=new Map(Array.from(s.entries()).sort((e,t)=>r.indexOf(e[0])-r.indexOf(t[0]))),l={columns:n};return console.log("Board:",l),l}catch(e){throw console.error("Error fetching todos:",e),e}};var n=s(2561);let l=(0,n.Ue)((e,t)=>({board:{columns:new Map},searchString:"",newTaskInput:"",newTaskType:"todo",setSearchString:t=>e({searchString:t}),getBoard:async()=>{let t=await r();console.log("Fetched board:",t),e({board:t})},setBoardState:t=>e({board:t}),deleteTask:async(s,r,n)=>{var l;let a=new Map(t().board.columns);null===(l=a.get(n))||void 0===l||l.todos.splice(s,1),e({board:{columns:a}}),await o.Z.delete("http://localhost:3000/tasks/".concat(r.$id))},addTask:async(t,s)=>{let{$id:r}=await o.Z.post("http://localhost:3000/tasks",{title:t,status:s});e({newTaskInput:""}),e(e=>{let o=new Map(e.board.columns),n={$id:r,$createdAt:new Date().toISOString(),title:t,status:s},l=o.get(s);if(l){var a;null===(a=o.get(s))||void 0===a||a.todos.push(n)}else o.set(s,{id:s,todos:[n]});return{board:{columns:o}}})},setNewTaskInput:t=>e({newTaskInput:t}),setNewTaskType:t=>e({newTaskType:t}),updateTodoInDB:async(e,t)=>{try{let s=await o.Z.put("http://localhost:3000/tasks/".concat(e.$id),{title:e.title,status:t});console.log("Updated todo:",s.data)}catch(e){throw console.error("Error updating todo:",e),e}}}))},6985:function(e,t,s){"use strict";s.d(t,{a:function(){return r}});var o=s(2561);let r=(0,o.Ue)()(e=>({isOpen:!1,openModal:()=>e({isOpen:!0}),closeModal:()=>e({isOpen:!1})}))}},function(e){e.O(0,[201,662,639,197,408,744],function(){return e(e.s=9395)}),_N_E=e.O()}]);